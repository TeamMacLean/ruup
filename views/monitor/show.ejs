<% include ../head.ejs %>

<div class="container">

    <h1 class="center"><%- monitor.name %></h1>

    <div class="graph">
        <canvas id="myChart" width="100%" height="100%"></canvas>
    </div>

    <script src="/components/chartist/dist/chartist.min.js"></script>
    <link href="/components/chartist/dist/chartist.min.css" rel="stylesheet">
    <script>

        var responses = JSON.parse('<%- JSON.stringify(monitor.responses) %>');

        var labels = []
        var series = [];

        responses.map(function (r) {
            series.push(r.time)
            labels.push(r.date)
        });

        new Chartist.Line('#myChart', {
            labels: labels,
            series: [
                series
            ]
        }, {
            low: 0,
            showArea: true
        });


    </script>

    <img src="/site/<%- monitor.id %>/badge">
    <div>
        <label for="md-badge">Markdown Badge</label>
        <input type="text"
               value="[![RUUP Badge](http://ruup.online/site/<%- monitor.id %>/badge)](http://ruup.online/site/<%- monitor.id %>)"
               id="md-badge"
               name="md-badge"
               readonly>
    </div>

</div>

<% include ../foot.ejs %>